---
import Base from "../../Layouts/Base.astro";
import { getAgents } from "../../backend.mjs";

const agents = await getAgents();
---

<Base titre="Liste des agents">
  <div class="max-w-6xl mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6">Liste des agents</h1>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      {
        agents.map((agent) => (
          <a
            href={`/agents/${agent.id}`}
            class="block bg-white p-6 rounded-lg shadow hover:shadow-lg transition-shadow duration-200"
          >
            <div class="text-xl font-semibold text-gray-800">{agent.nom}</div>
            {/* Tu peux ajouter d'autres infos ici, par exemple une photo ou une description */}
            <p class="mt-2 text-gray-600 text-sm">
              Cliquez pour voir les offres de cet agent
            </p>
          </a>
        ))
      }
    </div>
  </div>
</Base>
